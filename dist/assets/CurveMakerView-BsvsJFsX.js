var j=Object.defineProperty;var A=(m,l,r)=>l in m?j(m,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):m[l]=r;var x=(m,l,r)=>(A(m,typeof l!="symbol"?l+"":l,r),r);import{d as Y,r as L,j as U,o as G,c as f,a as i,b as u,F as P,e,k as Q,f as d,g as y,h as o,i as X,l as Z,m as H,t as I}from"./index-ztu_RY0m.js";import{C as w,T as J,a as O,_ as T}from"./Sketch-BAjGWOdi.js";import{T as K,C as W,_ as ee,a as C}from"./CoefficientPickerSketch-DvQz9erA.js";import{P as te,F as ne}from"./SerializedFourierSeries-CVMjpoyl.js";import{F as V}from"./FourierSeries-DOBcjM39.js";import{t as se}from"./tuples-6lOvLNBg.js";class t{constructor(l,r){x(this,"folds");x(this,"order");this.folds=l,this.order=r}get_frequency(l){return this.folds*l+this.order}}const $=[new t(1,0),new t(2,1),new t(3,1),new t(4,1),new t(5,1),new t(5,2),new t(6,1),new t(7,1),new t(7,2),new t(7,3),new t(8,1),new t(8,3),new t(9,1),new t(9,2),new t(9,4),new t(10,1),new t(10,3),new t(10,4),new t(11,1),new t(11,2),new t(11,3),new t(11,4),new t(11,5),new t(12,1),new t(12,5)],le=e("h2",null,"Curve Maker",-1),oe={class:"form-row"},re=["value"],ae=e("p",null," Select a symmetry type from the dropdown above. Then switch to the Pattern tab to edit the curve. ",-1),ie=e("p",null,[e("strong",null,"Note:"),o(" changing the symmetry type will reset the pattern! This is because the mathematical constraints are often different from one symmetry type to the next. ")],-1),ce=e("details",null,[e("summary",null,"Math Details"),e("p",null,[o(' Symmetry types are of the form: " '),e("math",null,[e("mi",null,"k")]),o(" -fold symmetry of type "),e("math",null,[e("mi",null,"d")]),o(' ". '),e("math",null,[e("mi",null,"k")]),o(' determines how many "petals" the pattern will have. Meanwhile, '),e("math",null,[e("mi",null,"d")]),o(" determines how far around the circle you move for each petal. ")]),e("p",null," For example, 5-fold symmetry of type 1 draws the petals one by one counterclockwise (like a pentagon). Meanwhile 5-fold symmetry of type 2 would visit every second petal (like a star). ")],-1),me=e("p",null," Select a term from the grid. Then click and drag in the complex plane below to edit the term. Curves need at least 2 terms (else the result will be a circle). ",-1),ue={class:"form-row"},fe={class:"form-row"},de=e("details",null,[e("summary",null,"Math Details"),e("p",null," As described in the book, these curves are a Fourier series (i.e. sum of circular motion) of the form: "),e("math",{display:"block",class:"tml-display",style:{display:"block math"}},[e("mrow",null,[e("mi",null,"f"),e("mo",{form:"prefix",stretchy:"false"},"("),e("mi",null,"t"),e("mo",{form:"postfix",stretchy:"false"},")"),e("mo",null,"="),e("mrow",null,[e("munder",null,[e("mo",{movablelimits:"false"},"∑"),e("mi",null,"n")])]),e("msub",null,[e("mi",null,"a"),e("mi",null,"n")]),e("msup",null,[e("mi",null,"e"),e("mrow",null,[e("mi",null,"i"),e("mi",null,"n"),e("mi",null,"t")])])])]),e("p",null,[o(" Based on your choice in the Symmetry tab, this page will select the integer frequencies "),e("math",null,[e("mi",null,"n")]),o(" to produce the selected symmetry. ")]),e("p",null," The number next to each spinner represents the frequency. To create (at least) k-fold symmetry, the terms you choose must satisfy: "),e("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",class:"tml-display",style:{display:"block math"}},[e("mrow",null,[e("mi",null,"n"),e("mo",null,"≡"),e("mi",null,"d"),e("mo"),e("mspace",{width:"1em"}),e("mo",{form:"prefix",stretchy:"false"},"("),e("mrow",null,[e("mtext"),e("mi",null,"mod")]),e("mspace",{width:"0.3333em"}),e("mi",null,"k"),e("mo",{form:"postfix",stretchy:"false"},")")])]),e("p",null,[o(" Note that it is possible to produce curves with "),e("em",null,"more"),o(" symmetry than the selected option, by picking terms that are evenly spaced apart. ")]),e("p",null," Note: the spinner animation is just to show the relative speed of each spinner. The spinners are slowed down so they're easier to follow with your eyes. ")],-1),he={key:0,class:"form-row"},pe={key:1},_e=5,h=5,Te=Y({__name:"CurveMakerView",setup(m){const l=2*_e+1,r=L($[0]),v=U(()=>n=>{const s=n.col-h;return r.value.get_frequency(s)}),k=L(),S=V.from_tuples([[1,1,0]]),E={pattern:S,show_arm:!1},M=new te(E),c={cell_size:50,rows:1,cols:l,selected_index:h,coefficients:new Array(l).fill(new w(0,0)),frequency_map:v.value};c.coefficients[h]=new w(1,0);const N=new K(c),g={coefficient:O.ONE},b=new W(g);N.events.addEventListener("term-selected",n=>{const s=n.detail;g.coefficient=s.to_rect()});function q(n){se(n,new ne).then(s=>{k.value=s}).catch(console.error)}function F(){const n=c.coefficients,s=[];for(let a=0;a<n.length;a++){const _=n[a];if(_.r===0)continue;const D=v.value({row:0,col:a});s.push({frequency:D,coefficient:_})}const p=new V(s);E.pattern=p,M.recompute_curve(),q(p)}function R(n){const s=n.detail;c.coefficients[c.selected_index]=s.to_polar(),F()}b.events.addEventListener("input",R),b.events.addEventListener("change",R);function z(){const n=c.coefficients;for(let s=0;s<l;s++)n[s]=w.ZERO;n[h]=w.ONE,c.selected_index=h,c.frequency_map=v.value,g.coefficient=O.ONE,F()}function B(n){return n.folds===1?"No symmetry":`${n.folds}-fold symmetry of type ${n.order}`}return G(()=>{q(S)}),(n,s)=>{const p=Q("RouterLink");return d(),f(P,null,[le,i(J,null,{left:u(()=>[i(T,{sketch:y(M),is_card:!0},null,8,["sketch"])]),right:u(()=>[i(ee,null,{default:u(()=>[i(C,{title:"Symmetry"},{default:u(()=>[e("div",oe,[e("label",null,[o("Symmetry Type: "),X(e("select",{id:"symmetry-type","onUpdate:modelValue":s[0]||(s[0]=a=>r.value=a),onChange:z},[(d(!0),f(P,null,H(y($),(a,_)=>(d(),f("option",{key:_,value:a},I(B(a)),9,re))),128))],544),[[Z,r.value]])])]),ae,ie,ce]),_:1}),i(C,{title:"Pattern"},{default:u(()=>[me,e("div",ue,[i(T,{sketch:y(N),is_card:!1},null,8,["sketch"])]),e("div",fe,[i(T,{sketch:y(b),is_card:!1},null,8,["sketch"])]),de]),_:1}),i(C,{title:"Export"},{default:u(()=>[k.value?(d(),f("div",he,[i(p,{to:{path:"/curve_symmetry",query:{custom_pattern:k.value}},target:"_blank",class:"center"},{default:u(()=>[o("Link to curve")]),_:1},8,["to"])])):(d(),f("div",pe,"Create a pattern using the other tabs, then a link will appear here"))]),_:1})]),_:1})]),_:1})],64)}}});export{Te as default};
