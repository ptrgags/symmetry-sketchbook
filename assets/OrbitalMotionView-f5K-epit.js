var b=Object.defineProperty;var k=(s,t,e)=>t in s?b(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var f=(s,t,e)=>(k(s,typeof t!="symbol"?t+"":t,e),e);import{d as S,r as T,w as C,n as x,b as v,f as _,a as F,g as O,e as r,h as c,i as q,l as E,c as w,m as M,F as N,t as P}from"./index-tZqL7VPW.js";import{S as y,T as R,_ as V}from"./Sketch-v-RCqe1c.js";import{F as A}from"./FourierSeries-C7Tqah8C.js";const d=800,B=2,D=3;function H(s){return A.from_tuples([[s.frequency,s.orbital_radius,0]])}class I extends y{constructor(e){super(e);f(this,"orbits");f(this,"curves");this.orbits=e.planets.map(H),this.curves=this.orbits.map(o=>o.compute_trajectory(d))}setup(e){const o=e.createCanvas(500,700);y.show_canvas(o.elt)}draw(e){e.background(0);const{planets:o,reference_planet:u}=this.state,l=o.length;e.push(),e.translate(e.width/2,e.height/2);const a=e.width/(2*B);e.scale(a,-a);const m=this.curves[u];e.noFill(),e.strokeJoin(e.ROUND),e.strokeWeight(D/a);for(let n=0;n<l;n++){const p=this.curves[n];e.stroke(...o[n].color),e.beginShape();for(let i=0;i<d;i++){const h=p[i].sub(m[i]);e.vertex(h.real,h.imag)}e.endShape(e.CLOSE)}for(let n=0;n<l;n++){const p=this.orbits[n],i=e.frameCount/d*2*Math.PI,h=e.frameCount%d,g=p.compute(i).sub(m[h]);e.fill(...o[n].color),e.noStroke(),e.circle(g.real,g.imag,o[n].radius)}e.pop()}}const J=r("h1",null,"Orbital Motion",-1),L={class:"form-row"},U=["value"],W=r("p",null,[c(" The motion of a solar system looks very different depending on your perspective. Relative to the star at the center, the orbits are concentric circles. However, if you center the coordinates on one of the planets' centers (ignoring the spin of the planet), you get intricate patterns known as "),r("a",{href:"https://en.wikipedia.org/wiki/Epicycloid"},"epicycloids"),c(". ")],-1),X=r("p",null,"To see this change of perspective, select one of the planets from the dropdown above.",-1),$=r("details",{class:"form-row"},[r("summary",null,"Fun Fact: Spirograph Art"),c(" A "),r("a",{href:"https://en.wikipedia.org/wiki/Spirograph"},"Spirograph"),c(" can draw epicycloids. This happens when the drawing gear rolls along the outside of the ring. What if you put the gear on the inside of the ring? you get a "),r("a",{href:"https://en.wikipedia.org/wiki/Hypocycloid"},"hypocycloid"),c(" instead. ")],-1),G=S({__name:"OrbitalMotionView",setup(s){const t={planets:[{orbital_radius:0,radius:.2,frequency:0,color:[255,127,0]},{orbital_radius:.2,radius:.1,frequency:25,color:[255,255,0]},{orbital_radius:.5,radius:.1,frequency:11,color:[255,0,0]},{orbital_radius:1,radius:.2,frequency:5,color:[0,255,0]},{orbital_radius:1.5,radius:.3,frequency:2,color:[0,0,255]}],reference_planet:0},e=new I(t),o=T(0);return C(o,u=>{t.reference_planet=u??0}),(u,l)=>(_(),x(R,null,{left:v(()=>[F(V,{sketch:O(e),is_card:!0},null,8,["sketch"])]),right:v(()=>[J,r("div",L,[r("label",null,[c("Select Perspective: "),q(r("select",{id:"preset-select","onUpdate:modelValue":l[0]||(l[0]=a=>o.value=a)},[(_(!0),w(N,null,M(t.planets.length,a=>(_(),w("option",{key:a,value:a-1},P(a===1?"Sun":`Planet ${a-1}`),9,U))),128))],512),[[E,o.value]])])]),W,X,$]),_:1}))}});export{G as default};
