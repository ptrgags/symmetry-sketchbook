var B=Object.defineProperty;var D=(m,s,r)=>s in m?B(m,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):m[s]=r;var x=(m,s,r)=>(D(m,typeof s!="symbol"?s+"":s,r),r);import{d as j,r as F,j as A,c as f,a as i,b as u,F as R,e,k as Y,f as h,g as _,h as o,i as U,l as G,m as Q,t as X}from"./index-xFizMusB.js";import{C as w,T as Z,a as L,_ as T}from"./Sketch-D1HhKuvk.js";import{T as H,C as I,_ as J,a as C}from"./CoefficientPickerSketch-D-YmLfGW.js";import{P as K,F as W}from"./SerializedFourierSeries-BiDolP1Q.js";import{F as P}from"./FourierSeries-LXiCdBCZ.js";import{t as ee}from"./tuples-6lOvLNBg.js";class t{constructor(s,r){x(this,"folds");x(this,"order");this.folds=s,this.order=r}get_frequency(s){return this.folds*s+this.order}}const O=[new t(1,0),new t(2,1),new t(3,1),new t(4,1),new t(5,1),new t(5,2),new t(6,1),new t(7,1),new t(7,2),new t(7,3),new t(8,1),new t(8,3),new t(9,1),new t(9,2),new t(9,4),new t(10,1),new t(10,3),new t(10,4),new t(11,1),new t(11,2),new t(11,3),new t(11,4),new t(11,5),new t(12,1),new t(12,5)],te=e("h2",null,"Curve Maker",-1),ne={class:"form-row"},se=["value"],le=e("p",null," Select a symmetry type from the dropdown above. Then switch to the Pattern tab to edit the curve. ",-1),oe=e("p",null,[e("strong",null,"Note:"),o(" changing the symmetry type will reset the pattern! This is because the mathematical constraints are often different from one symmetry type to the next. ")],-1),re=e("details",null,[e("summary",null,"Math Details"),e("p",null,[o(' Symmetry types are of the form: " '),e("math",null,[e("mi",null,"k")]),o(" -fold symmetry of type "),e("math",null,[e("mi",null,"d")]),o(' ". '),e("math",null,[e("mi",null,"k")]),o(' determines how many "petals" the pattern will have. Meanwhile, '),e("math",null,[e("mi",null,"d")]),o(" determines how far around the circle you move for each petal. ")]),e("p",null," For example, 5-fold symmetry of type 1 draws the petals one by one counterclockwise (like a pentagon). Meanwhile 5-fold symmetry of type 2 would visit every second petal (like a star). ")],-1),ae=e("p",null," Select a term from the grid. Then click and drag in the complex plane below to edit the term. Curves need at least 2 terms (else the result will be a circle). ",-1),ie={class:"form-row"},ce={class:"form-row"},me=e("details",null,[e("summary",null,"Math Details"),e("p",null," As described in the book, these curves are a Fourier series (i.e. sum of circular motion) of the form: "),e("math",{display:"block",class:"tml-display",style:{display:"block math"}},[e("mrow",null,[e("mi",null,"f"),e("mo",{form:"prefix",stretchy:"false"},"("),e("mi",null,"t"),e("mo",{form:"postfix",stretchy:"false"},")"),e("mo",null,"="),e("mrow",null,[e("munder",null,[e("mo",{movablelimits:"false"},"∑"),e("mi",null,"n")])]),e("msub",null,[e("mi",null,"a"),e("mi",null,"n")]),e("msup",null,[e("mi",null,"e"),e("mrow",null,[e("mi",null,"i"),e("mi",null,"n"),e("mi",null,"t")])])])]),e("p",null,[o(" Based on your choice in the Symmetry tab, this page will select the integer frequencies "),e("math",null,[e("mi",null,"n")]),o(" to produce the selected symmetry. ")]),e("p",null," The number next to each spinner represents the frequency. To create (at least) k-fold symmetry, the terms you choose must satisfy: "),e("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",class:"tml-display",style:{display:"block math"}},[e("mrow",null,[e("mi",null,"n"),e("mo",null,"≡"),e("mi",null,"d"),e("mo"),e("mspace",{width:"1em"}),e("mo",{form:"prefix",stretchy:"false"},"("),e("mrow",null,[e("mtext"),e("mi",null,"mod")]),e("mspace",{width:"0.3333em"}),e("mi",null,"k"),e("mo",{form:"postfix",stretchy:"false"},")")])]),e("p",null,[o(" Note that it is possible to produce curves with "),e("em",null,"more"),o(" symmetry than the selected option, by picking terms that are evenly spaced apart. ")]),e("p",null," Note: the spinner animation is just to show the relative speed of each spinner. The spinners are slowed down so they're easier to follow with your eyes. ")],-1),ue={key:0,class:"form-row"},fe={key:1},he=5,d=5,ge=j({__name:"CurveMakerView",setup(m){const s=2*he+1,r=F(O[0]),v=A(()=>n=>{const l=n.col-d;return r.value.get_frequency(l)}),k=F(),S={pattern:P.from_tuples([[1,1,0]]),show_arm:!1},E=new K(S),c={cell_size:50,rows:1,cols:s,selected_index:d,coefficients:new Array(s).fill(new w(0,0)),frequency_map:v.value};c.coefficients[d]=new w(1,0);const M=new H(c),g={coefficient:L.ONE},b=new I(g);M.events.addEventListener("term-selected",n=>{const l=n.detail;g.coefficient=l.to_rect()});function N(){const n=c.coefficients,l=[];for(let a=0;a<n.length;a++){const y=n[a];if(y.r===0)continue;const z=v.value({row:0,col:a});l.push({frequency:z,coefficient:y})}const p=new P(l);S.pattern=p,E.recompute_curve(),ee(p,new W).then(a=>{k.value=a}).catch(console.error)}function q(n){const l=n.detail;c.coefficients[c.selected_index]=l.to_polar(),N()}b.events.addEventListener("input",q),b.events.addEventListener("change",q);function V(){const n=c.coefficients;for(let l=0;l<s;l++)n[l]=w.ZERO;n[d]=w.ONE,c.selected_index=d,c.frequency_map=v.value,g.coefficient=L.ONE,N()}function $(n){return n.folds===1?"No symmetry":`${n.folds}-fold symmetry of type ${n.order}`}return(n,l)=>{const p=Y("RouterLink");return h(),f(R,null,[te,i(Z,null,{left:u(()=>[i(T,{sketch:_(E),is_card:!0},null,8,["sketch"])]),right:u(()=>[i(J,null,{default:u(()=>[i(C,{title:"Symmetry"},{default:u(()=>[e("div",ne,[e("label",null,[o("Symmetry Type: "),U(e("select",{id:"symmetry-type","onUpdate:modelValue":l[0]||(l[0]=a=>r.value=a),onChange:V},[(h(!0),f(R,null,Q(_(O),(a,y)=>(h(),f("option",{key:y,value:a},X($(a)),9,se))),128))],544),[[G,r.value]])])]),le,oe,re]),_:1}),i(C,{title:"Pattern"},{default:u(()=>[ae,e("div",ie,[i(T,{sketch:_(M),is_card:!1},null,8,["sketch"])]),e("div",ce,[i(T,{sketch:_(b),is_card:!1},null,8,["sketch"])]),me]),_:1}),i(C,{title:"Export"},{default:u(()=>[k.value?(h(),f("div",ue,[i(p,{to:{path:"/curve_symmetry",query:{pattern:k.value}},target:"_blank",class:"center"},{default:u(()=>[o("Link to curve")]),_:1},8,["to"])])):(h(),f("div",fe,"Create a pattern using the other tabs, then a link will appear here"))]),_:1})]),_:1})]),_:1})],64)}}});export{ge as default};
